{% extends 'base.html' %}

{% block title %}Edit Reply{% endblock %}

{% block content %}
<div class="mb-4">
    <a href="{% url 'threads:thread_detail' pk=reply.thread.pk order_by='-created_at' %}" class="btn btn-white border shadow-sm px-3 py-1 text-muted fw-bold small rounded-pill">
        <i class="bi bi-arrow-left me-1"></i> Cancel
    </a>
</div>

<div class="content-box p-5 border-0 shadow-sm">
    <div class="mb-4 pb-4 border-bottom">
        <h1 class="fw-bold h3 text-dark mb-1">Edit Reply</h1>
        <p class="text-secondary mb-0">Update your response.</p>
    </div>

    <form method="post">
        {% csrf_token %}

        {% if form.errors %}
        <div class="alert alert-danger border-0 rounded-3 mb-4 p-3 bg-danger bg-opacity-10 text-danger">
            <div class="fw-bold mb-1"><i class="bi bi-exclamation-triangle-fill me-2"></i>Error:</div>
            {{ form.raw_content.errors }}
        </div>
        {% endif %}

        <div class="form-group mb-4">
            <label class="sidebar-label text-dark mb-2" for="{{ form.raw_content.id_for_label }}">Content</label>
            {{ form.raw_content }}
        </div>

        <div class="d-flex justify-content-end gap-3 flex-wrap">
            <button type="submit" class="btn btn-dark fw-bold px-5 py-2" style="border-radius: var(--radius-sharp);">Update Reply</button>
        </div>
    </form>
</div>

<style>
    #id_raw_content {
        display: block;
        width: 100%;
        padding: 0.75rem 1rem;
        font-size: 1rem;
        line-height: 1.5;
        color: #212529;
        background-color: #FAFAFA;
        border: 1px solid var(--border-color);
        border-radius: var(--radius-sharp);
        min-height: 200px;
    }
    #id_raw_content:focus {
        background-color: #fff;
        border-color: #000;
        outline: 0;
        box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.05);
    }
</style>
{% endblock %}

{% block right_sidebar %}
{% endblock %}
